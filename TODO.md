# TODO

- system
  - adjust ricing to my liking
  - [x] convert keyring into module that 1.) installs and configures gnome keyring and 2.) adds it to the pam services
  - [x] fix garbage collection. unit is probably wrong. should be 15d instead of +15.
- darwin
  - [ ] store gpg-agent passphrase in keychain
- apps
  - more tui
    - [ ] evaluate email client himalaya (https://github.com/pimalaya/himalaya)
    - [ ] evaluate email client mutt (http://www.mutt.org/)
  - development
    - [x] kubectl
    - [x] k9s
    - [x] minikube
    - [x] lazydocker
    - [x] qmk development and flash setup (install qmk cli, configure qmk home, run `qmk setup`)
  - cli
    - taskwarrior
      - [x] adjust settings to hackstack setup
    - neovim
      - [x] github copilot
      - [x] highlight uses of hovered symbol
      - [ ] maybe indent entire editor based on screen size? I'd like to have my code more centered
      - [ ] folding does not work correctly for yaml lists, only folds the first entry, if its an object
      - features
        - git
          - [x] add guides to git commit buffer at 50 and 72 characters
        - obsidian
          - [ ] add keybindings
          - [ ] add custom template substitutions until all of my templates work
          - [ ] maybe somehow support dataview? this might be a limitation
      - syntax highlighting
        - [ ] css
        - [ ] csv
        - [ ] desktop
        - [x] diff
        - [x] dockerfile
        - [ ] gitignore
        - [-] helm? (conflicts with yamlls. i added a schema for yamlls instead)
        - [ ] html
        - [ ] make
        - [x] poe-filter
        - [ ] regex
        - [ ] scss
        - [ ] sh/bash
        - [ ] sql
        - [ ] ssh_config
        - [ ] terraform
        - [ ] toml
        - [ ] xml
        - [-] zsh (unfortunately no treesitter parser exists)
      - lsp
        - bindings
          - [-] go to/list implementations
        - [x] bashls
        - [x] helm (integrated into yamlls)
        - [ ] html
        - [ ] htmx
        - [x] hledger (i'm implementing this, wip)
        - [ ] terraformls
      - dap
          - [ ] javascript, typescript
  - desktop apps
    - [ ] audacity
    - [x] clementine
    - [x] gimp
    - [ ] transmission gui
    - office
      - mail
        - [ ] add missing accounts, but probably put them into sops so not all my e-mail account names are visible to the public
      - rss
        - [ ] manage RSS feeds in thunderbird by generating `feeds.json`. this might not work, since thunderbird wants to write the file
      - hledger
        - [x] check config against hackstack. strict checking does not seem to work
- fixes
  - [x] investigate startup script. deleting btrfs subvolumes seems to be broken
    - yep, it is, because my ssd seems to have corrupted sectors that btrfs can't handle. should not be a problem for other hosts
  - [x] still "too many open files" errors when starting games (e.g. kingdoms of amalur)
- security
  - [ ] look into full disk encryption (might require re-setup)
  - [ ] setup sops
    - [x] for user password
    - [ ] for ssh key
    - [ ] for gpg key
    - [-] for wifi network
  - backups with borg
    - [x] configurable per host
    - [x] with impermanence it's easy to just backup the entire /persist folder
- darwin
- modularity
  - [ ] refactor creation of scripts - multiple places have function definitions to create script packages
  - [x] add options to disable animations and transparency in hyprland and wayland
  - [x] make impermanence optional
  - [x] make system target configurable between linux and darwin
    - [x] use it to build the shell aliases for nbuild/nswitch/nrepl
  - [ ] move home manager modules out of home, make user name configurable
    - [x] make optionals/cli into a module
    - [x] make keyring into a module
    - [x] check what all can be shared within the yeldir user
    - [ ] move desktops and autostart into yeldirs.desktop configuration
  - [ ] rethink the "supported languages" support in my module options
    - The list becomes very long and clutters the config
    - I might want to cluster some languages, e.g. json/yaml/xml/csv because they are related, but they might have complicated setups
    - [ ] invert how support for programming languages is structured
      - instead of having language support distributed across many files (neovim lsp, treesitter, other installations), each programming language or development feature should have one module
      - this module contains configurations for all other programs (neovim, install additional things, shell integrations) depending on whether they are installed

## Restructure development feature
- feature
  - editor integration
    - neovim config
      - ftplugin (filetype specific settings)
      - treesitter plugin (syntax highlighting)
      - lsp binding
      - neotest plugin (testing)
      - dap plugin (debugging)
      - linter plugin
      - custom keybinds
      - custom plugins
  - specific software
    - eg docker, kubectl
    - language server
    - debugger
    - linter
    - no interpreters or compilers, those should be installed via devbox with the project-specific version
    - scripts and aliases
  - shell integration
  - system daemons
- what features are there?
  - essential (nix, isd)
  - go (treesitter, lsp, dap, test plugin)
  - lua (treesitter, lsp)
  - git (gitignore, gitconfig, gh)
  - shell (sh, bash, zsh, treesitter, lsp)
  - markdown (treesitter, lsp?)
  - web (typescript, javascript, html, css, scss)
  - docker (docker, lazydocker)
  - kubernetes (kubectl, kubectx & kubens, k9s, helm)
  - minikube
  - config/data files (json, csv, xml, yaml, toml)
  - linux (desktop files)
  - regex
  - poe (treesitter)
  - hledger (hledger, my scripts, treesitter, lsp)
  - rego (treesitter, lsp)
  - ? terraform (highlighting, lsp?, cli)
  - ? make (makefile highlighting & lsp?, make cli)
