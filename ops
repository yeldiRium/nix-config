{"author":{"id":"25c9d92405766f5374f83c8ecfd9d72873f45423dbac49e3d61b8fae35e19b87"},"ops":[{"type":3,"timestamp":1748261197,"nonce":"YC0CF79Jx6a/Wjb//AqMMXf8lBA=","message":"What I did not think about when making this decision:\n\nI not only need to configure plugins with .lua files, I also need to add the actual plugin packages in nix.\nI can't just have a .lua file per plugin (or plugin-group) and then link it.\nI need to have a .nix file that actually installs all the packages.\nSo I need the .nix file that conditionally installs packages anyway.\nThen having .lua files that are not wrapped in .nix basically duplicates the files.\n\nNo good solution yet.","files":null},{"type":6,"timestamp":1748261203,"nonce":"nE6os83i5soFnm4WvTmUtp+lg1o=","target":"8425186fad96b56b1096c2f352c0f44e7e243d3cac2bc39e8d87eb87dd0d239d","message":"Currently it is not possible to define dependencies between neovim plugins.\nIt is also not possible to manipulate their load order.\nThat means that sometimes plugins load in the wrong order and I cannot delay code execution until after a certain plugin is loaded.\n\nI need some kind of plugin loader to achieve this.\nI think lazy.nvim is a good fit for this, but honestly I haven't looked much into the other options.\nI've found a [guide to using lazy.nvim](https://nixalted.com/) as just a plugin loader and to ignore it's plugin management capabilities by setting it to dev mode and loading the plugins that are installed via nix.\n\nTo improve editor support when writing lua, the config files should be plain .lua.\nEnabling/disabling plugins should be done by (not) linking individual lua files.\nDynamic configuration of neovim from nix can be done by writing to a global config file (e.g. the init.lua) and reading the config from individual plugin files.\n\nTodos:\n- [ ] Evaluate current configs and decide whether plain .lua files are good enough or if .nix is necessary\n- [ ] Re-evaluate if lazy.nvim is the best choice\n- assuming it is\n    - [ ] Install lazy.nvim\n    - [ ] Configure it to use plugins installed via nix\n    - [ ] Rewrite all plugin configs using lazy.nvim","files":null}]}